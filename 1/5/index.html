<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- <script src="./public/js/modal.js" defer></script> -->
  <link rel="stylesheet" href="./public/css/style.css">
  <title>5</title>
</head>

<body>
  <div class="container">
    <form id="#productForm" onsubmit="createProduct(event)">
      <h2>–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ç</h2>
      <div class="input_container">
        <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
        <input type="text" name="title" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ">
      </div>
      <div class="input_container">
        <label>–¶–µ–Ω–∞</label>
        <input type="text" name="price" placeholder="–¶–µ–Ω–∞">
      </div>
      <div class="input_container">
        <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
        <input type="text" name="description" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ">
      </div>
      <button type="submit">
        –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ç
      </button>
    </form>
  </div>
  <script>
    const productForm = document.getElementById('#productForm');
    async function createProduct(event) {
      console.log('Preparing data...');
      try {
        const call = await fetch('https://fakestoreapi.com/products/', {
          method: "Post",
          body: JSON.stringify(
            {
              title: productForm[name="title"].value,
              price: productForm[name="price"].value,
              description: productForm[name="description"].value,
              image: 'https://i.pravatar.cc',
              category: 'electronic'
            }
          )
        });
        const response = await call.json();
      } catch(error) {
        alert('üö® –û—à–∏–±–∫–∞: ', error);
        return;
      }
      console.log(await response);
    }



  </script>
</body>

</html>